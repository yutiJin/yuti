---
title: 操作系统之子查询(Oracle)
date: 2018-07-18 10:36:54
tags: database
---

复杂查询 = 限定查询 + 多表查询 + 统计查询 + 子查询。

## 子查询

**范例**：查询最低工资雇员的信息

* 步骤一：查询最低工资

  `SELECT MIN(sal) FROM emp;`

* 步骤二：最低工资雇员信息

  `SELECT * FROM emp WHERE sal=(SELECT MIN(sal) FROM emp);`

so，这就是一个子查询，即就是在一个完整的查询之中定义了若干个小的查询所形成的复杂查询。

注意：所有子查询编写的时候一定要使用“（）”标记。

## WHERE子句中处理子查询

### <font color=tomato>子查询返回的是单行单列数据</font>
 
**范例**： 查询出基本工资比ALLEN低的全部雇员信息

分析：

* 步骤一：找到ALLEN的工资（返回的是单行单列的数据，即一个数值）

  `SELECT sal FROM emp WHERE ename='ALLEN';`

* 步骤二：在WHERE子句中使用此子查询

  ```sql
  SELECT * FROM emp
  WHERE sal < (SELECT sal FROM emp WHERE ename='ALLEN');
  ```


### 多行单列、单行多列